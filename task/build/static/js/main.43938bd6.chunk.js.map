{"version":3,"sources":["Card.module.css","Login.js","Card.js","Repo.js","UserDetail.js","Code.js","Router.js","App.js","reportWebVitals.js","index.js","Code.module.css"],"names":["module","exports","Login","props","code","queryString","parse","location","search","console","log","useEffect","Axios","post","client_id","client_secret","headers","then","res","data","Cookies","set","JSON","stringify","history","push","href","Card","className","Style","card","name","createdAt","substring","url","Repo","useState","loading","setloading","token","getJSON","repo","setrepo","pagenum","setpagenum","paginate","setpaginate","setTimeout","loadmore","page","viewer","repositories","edges","pageInfo","hasNextPage","Fragment","user_repo","onScroll","e","currentTarget","scrollTop","clientHeight","scrollHeight","Math","floor","map","node","style","color","UsrDetail","setviewer","followers","user_detail","src","avatarUrl","user_img","user_name","login","bio","follower","totalCount","following","Code","container","UserDetail","Router","exact","path","component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gFACAA,EAAOC,QAAU,CAAC,KAAO,qB,4MCqCVC,EAjCD,SAACC,GACb,IACMC,EADQC,IAAYC,MAAMH,EAAMI,SAASC,QAC5BJ,KAwBnB,OAvBAK,QAAQC,IAAI,OAAQN,GACpBO,qBAAU,WACJP,GACFQ,IAAMC,KACJ,6BACA,CACEC,UAAW,uBACXC,cAAe,2CACfX,QAEF,CACEY,QAAS,CACP,8BAA+B,OAGnCC,MAAK,SAACC,GACNT,QAAQC,IAAIQ,EAAIC,KAAM,SACtBC,IAAQC,IAAI,QAASC,KAAKC,UAAUL,EAAIC,OACxChB,EAAMqB,QAAQC,KAAK,aAGtB,CAACrB,IAGF,mBAAGsB,KAAK,uJAAR,oB,yCClBWC,EAZF,SAACxB,GACZ,OACE,sBAAKyB,UAAWC,IAAMC,KAAtB,UACE,8BAAM3B,EAAMgB,KAAKY,OACjB,gCAAM5B,EAAMgB,KAAKa,UAAUC,UAAU,EAAG,IAAxC,aACA,gCACE,mBAAGP,KAAMvB,EAAMgB,KAAKe,IAApB,yBAAyC,WCkDlCC,G,MAnDF,WAAO,IAAD,EACaC,oBAAS,GADtB,mBACVC,EADU,KACDC,EADC,KAEXC,EAAQnB,IAAQoB,QAAQ,SAFb,EAGOJ,qBAHP,mBAGVK,EAHU,KAGJC,EAHI,OAIaN,mBAAS,GAJtB,mBAIVO,EAJU,KAIDC,EAJC,OAKeR,oBAAS,GALxB,mBAKVS,EALU,KAKAC,EALA,KAMjBnC,qBAAU,WACJ0B,GAASU,WAAWC,IAAY,OACnC,CAACX,IAEJ,IAAMW,EAAW,YACfvC,QAAQC,IAAIiC,EAASE,GACjBA,KACFjC,IAAMC,KAAK,6BAA8B,CACvC0B,MAAOA,EACPU,KAAMN,IACL1B,MAAK,SAACE,GACPuB,EAAQvB,EAAKA,KAAK+B,OAAOC,aAAaC,OACtCN,EAAY3B,EAAKA,KAAK+B,OAAOC,aAAaE,SAASC,gBAGrDV,EADgBD,EACK,IAEvBL,GAAW,IAUb,OACE,cAAC,IAAMiB,SAAP,UACGd,EACC,sBAAKb,UAAWC,IAAM2B,UAAWC,SAXxB,SAACC,GAAO,IAAD,EAC8BA,EAAEC,cAA5CC,EADY,EACZA,UAAWC,EADC,EACDA,aAAcC,EADb,EACaA,aAEjCrD,QAAQC,IAAIoD,EAAeF,EAAW,IAAKC,GACvCE,KAAKC,MAAMF,EAAeF,KAAeC,GAAgBhB,GAC3DP,GAAW,IAMT,UACGG,EAAKwB,KAAI,SAACC,GACT,OAAO,cAAC,EAAD,CAA2B/C,KAAM+C,EAAKA,MAA3BA,EAAKA,KAAKnC,SAI7Bc,EAAW,qBAAKsB,MAAO,CAAEC,MAAO,OAArB,uBAAgD,MAG9D,cChBOC,EA9BG,WAAO,IAAD,EACMjC,mBAAS,IADf,mBACfc,EADe,KACPoB,EADO,KAEhB/B,EAAQnB,IAAQoB,QAAQ,SAO9B,OANA7B,qBAAU,WACRC,IAAMC,KAAK,6BAA8B,CACvC0B,MAAOA,IACNtB,MAAK,SAACE,GAAD,OAAUmD,EAAUnD,EAAKA,KAAK+B,aACrC,IAGD,cAAC,IAAMK,SAAP,UACGL,EAAOqB,UACN,sBAAK3C,UAAWC,IAAM2C,YAAtB,UACE,qBAAKC,IAAKvB,EAAOwB,UAAW9C,UAAWC,IAAM8C,WAC7C,qBAAK/C,UAAWC,IAAM+C,UAAtB,SAAkC1B,EAAO2B,QACzC,qBAAKjD,UAAWC,IAAMiD,IAAtB,SAA4B5B,EAAO4B,MACnC,sBAAKlD,UAAWC,IAAMkD,SAAtB,UACG7B,EAAOqB,UAAUS,WADpB,eAGA,sBAAKpD,UAAWC,IAAMoD,UAAtB,UACG/B,EAAO+B,UAAUD,WADpB,mBAKF,aCfOE,EATF,SAAC/E,GACZ,OACE,sBAAKyB,UAAWC,IAAMsD,UAAtB,UACE,cAACC,EAAD,IACA,cAAC,EAAD,QCISC,EATA,WACb,OACE,gCACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWtF,IACjC,cAAC,IAAD,CAAOoF,OAAK,EAACC,KAAK,QAAQC,UAAWN,QCO5BO,MAVf,SAAatF,GACX,OACE,qBAAKyB,UAAU,MAAf,SACE,cAAC,IAAD,UACE,cAAC,EAAD,SCEO8D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3E,MAAK,YAAkD,IAA/C4E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K,kBCfA1F,EAAOC,QAAU,CAAC,UAAY,wBAAwB,YAAc,0BAA0B,UAAY,wBAAwB,SAAW,0B","file":"static/js/main.43938bd6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2I55n\"};","import React, { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nconst Login = (props) => {\r\n  const value = queryString.parse(props.location.search);\r\n  const code = value.code;\r\n  console.log(\"code\", code);\r\n  useEffect(() => {\r\n    if (code) {\r\n      Axios.post(\r\n        \"http://localhost:2000/auth\",\r\n        {\r\n          client_id: \"893aad47e9596025d42c\",\r\n          client_secret: \"16ac8e8a8c7722bc22d9a3580abfccc1ec257074\",\r\n          code,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n          },\r\n        }\r\n      ).then((res) => {\r\n        console.log(res.data, \"login\");\r\n        Cookies.set(\"token\", JSON.stringify(res.data));\r\n        props.history.push(\"code\");\r\n      });\r\n    }\r\n  }, [code]);\r\n\r\n  return (\r\n    <a href=\"https://github.com/login/oauth/authorize?client_id=893aad47e9596025d42c&client_secret=16ac8e8a8c7722bc22d9a3580abfccc1ec257074&scope=repo,user,email\">\r\n      login\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Style from \"./Card.module.css\";\r\nconst Card = (props) => {\r\n  return (\r\n    <div className={Style.card}>\r\n      <div>{props.data.name}</div>\r\n      <div>{props.data.createdAt.substring(0, 10)}created</div>\r\n      <div>\r\n        <a href={props.data.url}>GitHub Link</a>{\" \"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Style from \"./Code.module.css\";\r\nimport Card from \"./Card\";\r\nimport Axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport debounce from \"lodash.debounce\";\r\n\r\nconst Repo = () => {\r\n  const [loading, setloading] = useState(true);\r\n  const token = Cookies.getJSON(\"token\");\r\n  const [repo, setrepo] = useState();\r\n  const [pagenum, setpagenum] = useState(5);\r\n  const [paginate, setpaginate] = useState(true);\r\n  useEffect(() => {\r\n    if (loading) setTimeout(loadmore(), 10000);\r\n  }, [loading]);\r\n\r\n  const loadmore = () => {\r\n    console.log(pagenum, paginate);\r\n    if (paginate) {\r\n      Axios.post(\"http://localhost:2000/repo\", {\r\n        token: token,\r\n        page: pagenum,\r\n      }).then((data) => {\r\n        setrepo(data.data.viewer.repositories.edges);\r\n        setpaginate(data.data.viewer.repositories.pageInfo.hasNextPage);\r\n      });\r\n      const curpage = pagenum;\r\n      setpagenum(curpage + 5);\r\n    }\r\n    setloading(false);\r\n  };\r\n  const scroll = (e) => {\r\n    const { scrollTop, clientHeight, scrollHeight } = e.currentTarget;\r\n\r\n    console.log(scrollHeight - scrollTop, \" \", clientHeight);\r\n    if (Math.floor(scrollHeight - scrollTop) === clientHeight && paginate) {\r\n      setloading(true);\r\n    }\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {repo ? (\r\n        <div className={Style.user_repo} onScroll={scroll}>\r\n          {repo.map((node) => {\r\n            return <Card key={node.node.name} data={node.node}></Card>;\r\n          })}\r\n\r\n          {/* <button onClick={() => loadmore()}>load</button> */}\r\n          {paginate ? <div style={{ color: \"red\" }}>loading..</div> : \"\"}\r\n        </div>\r\n      ) : (\r\n        \"loading\"\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Repo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Style from \"./Code.module.css\";\r\n\r\nimport Axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst UsrDetail = () => {\r\n  const [viewer, setviewer] = useState({});\r\n  const token = Cookies.getJSON(\"token\");\r\n  useEffect(() => {\r\n    Axios.post(\"http://localhost:2000/user\", {\r\n      token: token,\r\n    }).then((data) => setviewer(data.data.viewer));\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {viewer.followers ? (\r\n        <div className={Style.user_detail}>\r\n          <img src={viewer.avatarUrl} className={Style.user_img} />\r\n          <div className={Style.user_name}>{viewer.login}</div>\r\n          <div className={Style.bio}>{viewer.bio}</div>\r\n          <div className={Style.follower}>\r\n            {viewer.followers.totalCount} follower\r\n          </div>\r\n          <div className={Style.following}>\r\n            {viewer.following.totalCount} following\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"loading\"\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default UsrDetail;\r\n","import React, { useState, useEffect, Fragment } from \"react\";\r\n\r\nimport Style from \"./Code.module.css\";\r\nimport Repo from \"./Repo\";\r\nimport UserDetail from \"./UserDetail\";\r\n\r\nconst Code = (props) => {\r\n  return (\r\n    <div className={Style.container}>\r\n      <UserDetail></UserDetail>\r\n      <Repo></Repo>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Code;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Login from \"./Login\";\r\nimport Code from \"./Code\";\r\n\r\nconst Router = () => {\r\n  return (\r\n    <div>\r\n      <Route exact path=\"/\" component={Login} />\r\n      <Route exact path=\"/code\" component={Code} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import \"./App.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport Router from \"./Router\";\n\nfunction App(props) {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Router />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Code_container__2A8iF\",\"user_detail\":\"Code_user_detail__J-KQl\",\"user_repo\":\"Code_user_repo__2vSbA\",\"user_img\":\"Code_user_img__4Q4Jh\"};"],"sourceRoot":""}